ERROR 2024-09-13 12:08:16,645 log Internal Server Error: /success-pay
Traceback (most recent call last):
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/backends/utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.NotNullViolation: null value in column "first_name" of relation "user_user" violates not-null constraint
DETAIL:  Failing row contains (2, pbkdf2_sha256$150000$sWHoVkWKXDGw$OvRHP3oArV0wfLNwIFXdvKLcuxNyCl..., null, f, 7877959475, null, , f, t, 2024-09-13 12:08:16.382552+05:30, devotee, void@razorpay.com, null, null, null, f).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/core/handlers/exception.py", line 34, in inner
    response = get_response(request)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/core/handlers/base.py", line 115, in _get_response
    response = self.process_exception_by_middleware(e, request)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/core/handlers/base.py", line 113, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/views/decorators/csrf.py", line 54, in wrapped_view
    return view_func(*args, **kwargs)
  File "/Users/rahul/Desktop/Development/python/hingonia/frontend/views.py", line 571, in payment_success_view
    user_obj = User.objects.create_user(first_name=first_name, type='devotee',
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/contrib/auth/models.py", line 151, in create_user
    return self._create_user(username, email, password, **extra_fields)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/contrib/auth/models.py", line 145, in _create_user
    user.save(using=self._db)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/contrib/auth/base_user.py", line 66, in save
    super().save(*args, **kwargs)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/models/base.py", line 740, in save
    self.save_base(using=using, force_insert=force_insert,
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/models/base.py", line 777, in save_base
    updated = self._save_table(
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/models/base.py", line 870, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/models/base.py", line 907, in _do_insert
    return manager._insert([self], fields=fields, return_id=update_pk,
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/models/manager.py", line 82, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/models/query.py", line 1186, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/models/sql/compiler.py", line 1335, in execute_sql
    cursor.execute(sql, params)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/backends/utils.py", line 99, in execute
    return super().execute(sql, params)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(sql, params, many=False, executor=self._execute)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/backends/utils.py", line 76, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/backends/utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/utils.py", line 89, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/Users/rahul/Library/Python/3.9/lib/python/site-packages/django/db/backends/utils.py", line 84, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.IntegrityError: null value in column "first_name" of relation "user_user" violates not-null constraint
DETAIL:  Failing row contains (2, pbkdf2_sha256$150000$sWHoVkWKXDGw$OvRHP3oArV0wfLNwIFXdvKLcuxNyCl..., null, f, 7877959475, null, , f, t, 2024-09-13 12:08:16.382552+05:30, devotee, void@razorpay.com, null, null, null, f).

ERROR 2024-09-13 12:08:16,728 basehttp "POST /success-pay HTTP/1.1" 500 176930
